[{"word":["Flux","和","Mono","创建","并","订阅","123456789101112131415161718192021222324252627282930","&","#","x","2","F",";","&","#","x","2","F",";","几种","创建","的","工厂","方法","FluxStrng","flux","&","#","x","3","D",";","Flux",".","just","(","&","quot",";","a","&","quot",";",",","&","quot",";","b","&","quot",";",",","&","quot",";","c","&","quot",";",")",";","LstStrng","terable","&","#","x","3","D",";","Arrays",".","asLst","(","&","quot",";","foo","&","quot",";",",","&","quot",";","bar","&","quot",";",",","&","quot",";","foobar","&","quot",";",")",";","FluxStrng","seq","2","&","#","x","3","D",";","Flux",".","fromIterable","(","terable",")",";","FluxInteger","numbersFromFeToSeen","&","#","x","3","D",";","Flux",".","range","(","5",",","3",")",";","MonoStrng","ata","&","#","x","3","D",";","Mono",".","just","(","&","quot",";","foo","&","quot",";",")",";","MonoObject","monoEmpty","&","#","x","3","D",";","Mono",".","empty","(",")",";","&","#","x","2","F",";","&","#","x","2","F",";","基于","Jaa","8","lambas","的","几种","订阅","方式","&","#","x","2","F",";","&","#","x","2","F",";","订阅","和","触发","序列","subscrbe","(",")",";","&","#","x","2","F",";","&","#","x","2","F",";","对于","没","一个","生产","出来","的","值","做","一些","事情","subscrbe","(","Consumer","?","super","T","consumer",")",";","&","#","x","2","F",";","&","#","x","2","F",";","处理","值","但是","也","会","对","错误","做出","反应","subscrbe","(","Consumer","?","super","T","consumer",",","Consumer","?","super","Throwable","errorConsumer",")",";","&","#","x","2","F",";","&","#","x","2","F",";","处理","值","和","异常","并且","需要","在","序列","成功","完成","后","做","一些","事情","subscrbe","(","Consumer","?","super","T","consumer",",","Consumer","?","super","Throwable","errorConsumer",",","Runnable","completeConsumer",")",";","&","#","x","2","F",";","&","#","x","2","F",";","处理","值","、","错误","、","成功","完成","，","同时","也","可以","由","订阅","调用","而","产生","的","Subscrpton","来","做","些","事情","subscrbe","(","Consumer","?","super","T","consumer",",","Consumer","?","super","Throwable","errorConsumer",",","Runnable","completeConsumer",",","Consumer","?","super","Subscrpton","subscrptonConsumer",")",";","这些","变体","返回","对","订阅","的","引用","，","您","可以","在","不需要","更多","数据","时","使用","该","引用","来","取消","订阅","。","取消","后","，","源","应","停止","产生","值","并","清除","其","创建","的","任何","资源","。","这种","取消","和","清理","行为","在","Reactor","中","由","通用","的","Dsposable","接口","表示","。","简单","示例","123456789101112131415161718192021222324252627282930313233","&","#","x","2","F",";","&","#","x","2","F",";","创建","一个","Flux","，","当","订阅","产生","的","时候","，","Flux","将","产生","3个","值","FluxInteger","nts","&","#","x","3","D",";","Flux",".","range","(","1",",","3",")",";","&","#","x","2","F",";","&","#","x","2","F",";","上述","5个","订阅","方法","中","最","简单的","方法","nts",".","subscrbe","(",")",";","&","#","x","2","F",";","&","#","x","2","F",";","订阅","后","输出","元素","FluxInteger","nts","&","#","x","3","D",";","Flux",".","range","(","1",",","3",")",";","&","#","x","2","F",";","&","#","x","2","F",";","提供","一个","订阅","者","nts",".","subscrbe","(","-","System",".","out",".","prntln","(",")",")",";","&","#","x","2","F",";","&","#","x","2","F",";","产生","元素","过程","中","出现","异常","，","可以","增加","一个","异常的","处理","hanlerFluxInteger","nts","&","#","x","3","D",";","Flux",".","range","(","1",",","4",")",".","map","(","-","&","#","123",";","f","(","&","#","x","3","D",";","3",")","return",";","throw","new","RuntmeExcepton","(","&","quot",";","Got","to","4","&","quot",";",")",";","&","#","125",";",")",";","nts",".","subscrbe","(","-","System",".","out",".","prntln","(",")",",","error","-","System",".","err",".","prntln","(","&","quot",";","Error",":","&","quot",";","+","error",")",")",";","&","#","x","2","F",";","&","#","x","2","F",";","增加","一个","hanler","来","处理","完成","事件","FluxInteger","nts","&","#","x","3","D",";","Flux",".","range","(","1",",","4",")",";","nts",".","subscrbe","(","-","System",".","out",".","prntln","(",")",",","error","-","System",".","err",".","prntln","(","&","quot",";","Error","&","quot",";","+","error",")",",","(",")","-","System",".","out",".","prntln","(","&","quot",";","Done","&","quot",";",")",")",";","&","#","x","2","F",";","&","#","x","2","F",";","增加","一个","Subscrpton","，","可以","调用","其","request","(","long",")","或者","cancel","(",")","，","否则","Flux","会","被","挂起","FluxInteger","nts","&","#","x","3","D",";","Flux",".","range","(","1",",","4",")",";","nts",".","subscrbe","(","-","System",".","out",".","prntln","(",")",",","error","-","System",".","err",".","prntln","(","&","quot",";","Error","&","quot",";","+","error",")",",","(",")","-","System",".","out",".","prntln","(","&","quot",";","Done","&","quot",";",")",",","sub","-","sub",".","request","(","10",")",")",";","用","sposable","取消","subscrbe","(",")","所有","这些","基于","lamba","的","subscrbe","(",")","变体","都","具有","Dsposable","返回","类型","。","在这种情况下","，","Dsposable","接口","表示","可以","通过","调用","其","spose","(",")","方法","来","取消","订阅","。","对应","Flux","和","Mono","，","取消","是","一个","源","必须","停止","产生","元素","的","信号","，","然而","，","不能","保证","及时性","的","，","某些","源","产生","元素","的","速度","特","别的","快","，","甚至","可以","在","接收","到","取消","指令","之前","完成","。","BaseSubscrber","lamba","的","替代","方案","提供","了","一个","可以","扩展","的","类","BaseSubscrber","，","一种","通用","的","订阅","方法","，","用","一种","成熟的","订阅","者","而不是","lamba","表达式","的","组合","。","1234","&","#","x","2","F",";","&","#","x","2","F",";","实现","CoreSubscrber","，","Subscrpton","，","Dsposable","，","两种","角色","publc","abstract","class","BaseSubscrberT","mplements","CoreSubscrberT",",","Subscrpton",",","Dsposable","&","#","123",";","&","#","125",";","BaseSubscrber","使用","注意","点","BaseSubscrber","或者","子类","的","实例","只能","使用","一次","，","这","意味着","如果","BaseSubscrber","订阅","了","第二个","Publsher",",","应该","取消","对","第一个","Publsher","的","订阅","，","因","为","违反","了","响应","式流","的","规范","，","不能","并行","的","调用","Subscrber","的","onNext","方法","。","BaseSubscrber","示例","SampleSubscrber","扩展","了","BaseSubscrber","，","Reactor","中","推荐","通过","这种","方式","定义","订阅","者","，","BaseSubscrber","提供","了","钩子","可以","被","重","写","来","改变","订阅","者","的","行为","。","默认","情况","下","，","会","触发","一个","无限制","的","请求","request","(","Long",".","MAX","_","VALUE",")","当","你","需要","自定义","请求","量","的","时候","，","扩展","BaseSubscrber","会","更加","有用","12345678910111213141516171819202122232425262728293031323334353637","SampleSubscrberInteger","ss","&","#","x","3","D",";","new","SampleSubscrberInteger","(",")",";","FluxInteger","nts","&","#","x","3","D",";","Flux",".","range","(","1",",","4",")",";","nts",".","subscrbe","(","-","System",".","out",".","prntln","(",")",",","error","-","System",".","err",".","prntln","(","&","quot",";","Error","&","quot",";","+","error",")",",","(",")","-","&","#","123",";","System",".","out",".","prntln","(","&","quot",";","Done","&","quot",";",")",";","&","#","125",";",",","s","-","s",".","request","(","10",")",")",";","nts",".","subscrbe","(","ss",")",";","statc","class","SampleSubscrberT","extens","BaseSubscrberT","&","#","123",";","@","Oerre","protecte","o","hookOnSubscrbe","(","Subscrpton","subscrpton",")","&","#","123",";","System",".","out",".","prntln","(","&","quot",";","onSubscrbe","call",":","&","quot",";",")",";","&","#","x","2","F",";","&","#","x","2","F",";","request","(","Long",".","MAX","_","VALUE",")","此","出","会","调用","无限制","的","请求","super",".","hookOnSubscrbe","(","subscrpton",")",";","&","#","125",";","@","Oerre","protecte","o","hookOnNext","(","T","alue",")","&","#","123",";","System",".","out",".","prntln","(","&","quot",";","onNext","call",":","&","quot",";","+","alue",")",";","super",".","hookOnNext","(","alue",")",";","&","#","125",";","@","Oerre","protecte","o","hookOnError","(","Throwable","throwable",")","&","#","123",";","System",".","err",".","prntln","(","&","quot",";","onError","call",":","&","quot",";","+","throwable",".","getMessage","(",")",")",";","super",".","hookOnError","(","throwable",")",";","&","#","125",";","@","Oerre","protecte","o","hookOnCancel","(",")","&","#","123",";","System",".","out",".","prntln","(","&","quot",";","OnCancel","call",":","&","quot",";",")",";","super",".","hookOnCancel","(",")",";","&","#","125",";","@","Oerre","protecte","o","hookOnComplete","(",")","&","#","123",";","System",".","out",".","prntln","(","&","quot",";","OnComplete","call",":","&","quot",";",")",";","super",".","hookOnComplete","(",")",";","&","#","125",";","&","#","125",";","output","1234567891011121234","Done","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","onSubscrbe","call",":","onNext","call",":","1","onNext","call",":","2","onNext","call",":","3","onNext","call",":","4","OnComplete","call",":","关于","背","压","在","Reactor","中","实现","背","压","，","通过","给","上游","的","operator","发送","一个","请求","，","将","消费者","的","压力","回溯","到","源","。","当前","的","“","需求","”","或","“","待","处理","的","请求","”","。","需求","的","上限","为","Long",".","MAX","_","VALUE","，","代表","一个","无限制","的","请求","（","意思","是","“","尽可能","快地","生成","”","-","基本","禁用","背","压","）","。","buffer","(","N",")","lmtRate","(","N",")","：","如","lmtRate","(","10",")","，","分","10个","批次","每个","批次","请求","10个","反馈","到","上游","lmtRate","(","hghTe",",","lowTe",")","lmtRequest","(","N",")","：","限制","下游","最多","请求","N","，","当","上游","发送","元素","达到","N","的","时候","，","任务","已经","完成","，","调用","订阅","者","的","onComplete","事件","，","然后","取消","source","以","编程","方式","创建","序列","同步","生成","最","简单的","方式","是","调用","Flux","的","generate","方法","，","提供","初始值","为","0","的","state","，","通过","state","来","构造","发送","的","元素","，","同时","当","state","等于","10","触发","完成","事件",",","返回","一个","新的","state","，","并且","在下","一次","调用","中","使用","。","1234567","FluxStrng","flux","&","#","x","3","D",";","Flux",".","generate","(","(",")","-","0",",","(","state",",","snk",")","-","&","#","123",";","snk",".","next","(","&","quot",";","3","x","&","quot",";","+","state","+","&","quot",";","&","#","x","3","D",";","&","quot",";","+","3","*","state",")",";","f","(","state","&","#","x","3","D",";","&","#","x","3","D",";","10",")","snk",".","complete","(",")",";","return","state","+","1",";","&","#","125",";",")",";","generate","方法","签名","123","publc","statc","T",",","S","FluxT","generate","(","CallableS","stateSuppler",",","BFunctonS",",","SynchronousSnkT",",","S","generator",")","&","#","123",";","return","onAssembly","(","new","FluxGenerate","(","stateSuppler",",","generator",")",")",";","&","#","125",";","使用","可变","的","AtomcLong","来","代替","nt","类型","的","state","12345678","FluxStrng","flux","&","#","x","3","D",";","Flux",".","generate","(","AtomcLong",":",":","new",",","(","state",",","snk",")","-","&","#","123",";","long","&","#","x","3","D",";","state",".","getAnIncrement","(",")",";","snk",".","next","(","&","quot",";","3","x","&","quot",";","+","+","&","quot",";","&","#","x","3","D",";","&","quot",";","+","3","*",")",";","f","(","&","#","x","3","D",";","&","#","x","3","D",";","10",")","snk",".","complete","(",")",";","return","state",";","&","#","125",";",")",";","output","12345678910113","x","0","&","#","x","3","D",";","03","x","1","&","#","x","3","D",";","33","x","2","&","#","x","3","D",";","63","x","3","&","#","x","3","D",";","93","x","4","&","#","x","3","D",";","123","x","5","&","#","x","3","D",";","153","x","6","&","#","x","3","D",";","183","x","7","&","#","x","3","D",";","213","x","8","&","#","x","3","D",";","243","x","9","&","#","x","3","D",";","273","x","10","&","#","x","3","D",";","30","在","整个过程","结束","的","时候","增加","一个","处理","最后","一个","状态","实例","的","hanler","123456789","FluxStrng","flux","&","#","x","3","D",";","Flux",".","generate","(","AtomcLong",":",":","new",",","(","state",",","snk",")","-","&","#","123",";","long","&","#","x","3","D",";","state",".","getAnIncrement","(",")",";","snk",".","next","(","&","quot",";","3","x","&","quot",";","+","+","&","quot",";","&","#","x","3","D",";","&","quot",";","+","3","*",")",";","f","(","&","#","x","3","D",";","&","#","x","3","D",";","10",")","snk",".","complete","(",")",";","return","state",";","&","#","125",";",",","(","state",")","-","System",".","out",".","prntln","(","&","quot",";","state",":","&","quot",";","+","state",")",")",";","&","#","125",";","Consumer","lamba","的","输出","最后","一条","状态","值","如果","状态","包含","在","过程","结束","时","需要","处理","的","数据库连接","或","其他","资源","，","则","使用者","lamba","可以","关闭","该","连接","或","以","其他","方式","处理","应","在","过程","结束","时","完成","的","任何","任务","。","异步","和","多线程","：","创建","create","是","Flux","的","创建","的","高级","形式","，","适合","每","轮","多次","生成","元素","，","甚至","来自","多线程","。","假设","使用","基于","监听","回调","的","ap","，","可以","使用","Flux","的","create","方法","桥","接到","Flux",",","按","块","处理","数据","并且","有","两个","时间","，","数据","块","已","就绪","，","处理","完成","（","终端","事件","）","123456789101112131415161718192021","nterface","MyEentLstenerT","&","#","123",";","o","onDataChunk","(","LstT","chunk",")",";","o","processComplete","(",")",";","&","#","125",";","FluxStrng","brge","&","#","x","3","D",";","Flux",".","create","(","snk","-","&","#","123",";","myEentProcessor",".","regster","(","new","MyEentLstenerStrng","(",")","&","#","123",";","publc","o","onDataChunk","(","LstStrng","chunk",")","&","#","123",";","for","(","Strng","s",":","chunk",")","&","#","123",";","snk",".","next","(","s",")",";","&","#","125",";","&","#","125",";","publc","o","processComplete","(",")","&","#","123",";","snk",".","complete","(",")",";","&","#","125",";","&","#","125",";",")",";","&","#","125",";",")",";","由于","create","可以","桥接","异步","ap","并且","管理","背","压","，","可以","通过","OerflowStrategy","来","优化","背","压","的","行为","：","1","、","IGNORE","完全","忽略","下游","背","压","请求","，","当","队列","在","下游","充满","时","，","这","可能会","产生","IllegalStateExcepton","2","、","ERROR","当","下游","无法","跟上","时候","，","发出","IllegalStateExcepton","信号","以","指示","错误","3","、","DROP","如果","下游","没有","准备","接受","它","，","丢弃","输入","的","信号","4","、","LATEST","是","下游","仅","从","上游","获取","最新的","信号","5","、","BUFFER","默认","的","一种","策略","，","缓冲","所有","信号","，","当","下游","无法","跟上","的","时候","，","可能","导致","OOMMono","同样","也","有","create","，","MonoSnk","不允许","多次","下发","，","它将","在","第","一个","信息","之后","丢弃","所有","信号","异步","但是","单","线程","：","pushpush","介于","generate","和","create","，","使用","于","单个","生产者","的","事件","，","从","某种","意义","上来","说","，","它是","异步","的","，","可以","使用","create","同样","的","背","压","策略","来","管理","背","压","，","但是","一次","只有","一个","生产","线程","可以","调用","next","complete","或者","error","12345678910111213141516171819","FluxStrng","brge","&","#","x","3","D",";","Flux",".","push","(","snk","-","&","#","123",";","myEentProcessor",".","regster","(","new","SngleThreaEentLstenerStrng","(",")","&","#","123",";","publc","o","onDataChunk","(","LstStrng","chunk",")","&","#","123",";","for","(","Strng","s",":","chunk",")","&","#","123",";","snk",".","next","(","s",")",";","&","#","125",";","&","#","125",";","publc","o","processComplete","(",")","&","#","123",";","snk",".","complete","(",")",";","&","#","125",";","publc","o","processError","(","Throwable","e",")","&","#","123",";","snk",".","error","(","e",")",";","&","#","125",";","&","#","125",";",")",";","&","#","125",";",")",";","A","hybr","pushpull","moel","混合","推拉","模型","大","部分","的","Reactor","的","operaters","，","如","create","都","遵循","混合","推拉","模型","，","意思","是","尽管","大部分","处理","都是","异步","的","（","建议","采用","推送","的","方法","）","，","但","其中","有","一个","很小","的","拉","组件","：","请求","（","request","）","consumer","从","数据源","中","提取","数据","的","意义","是","直到","首次","请求","之前","数据","都","不会","发","出任","何","东西","。","只","要有","可用","，","源","就","会","将","数据","推","送到","consumer","，","但","要","在","其","请求","数量","的","范围内","。","注意","，","push","(",")","和","create","(",")","都","允许","设置","onRequest","consumer","来","管理","请求","量","，","确保","当","有待","处理","请求","时候","才","将","数据","通过","snk","推送","1234567891011121314151617","FluxStrng","brge","&","#","x","3","D",";","Flux",".","create","(","snk","-","&","#","123",";","myMessageProcessor",".","regster","(","new","MyMessageLstenerStrng","(",")","&","#","123",";","publc","o","onMessage","(","LstStrng","messages",")","&","#","123",";","for","(","Strng","s",":","messages",")","&","#","123",";","snk",".","next","(","s",")",";","&","#","125",";","&","#","125",";","&","#","125",";",")",";","snk",".","onRequest","(","n","-","&","#","123",";","LstStrng","messages","&","#","x","3","D",";","myMessageProcessor",".","getHstory","(","n",")",";","for","(","Strng","s",":","message",")","&","#","123",";","snk",".","next","(","s",")",";","&","#","125",";","&","#","125",";",")",";","&","#","125",";",")",";","push","(",")","和","create","(",")","之后","的","清理","两个","回调","onDspose","和","onCancel","在","取消","或","终止","时","执行","任何","清理","。","当","Flux","完成","，","出现","错误","或","被","取消","时","，","可以","使用","onDspose","执行","清理","。","onCancel","可","用于","执行","特","定于","取消","的","任何","操作","，","然后","再","使用","onDspose","进行","清除","。","12345","FluxStrng","brge","&","#","x","3","D",";","Flux",".","create","(","snk","-","&","#","123",";","snk",".","onRequest","(","n","-","channel",".","poll","(","n",")",")",".","onCancel","(","(",")","-","channel",".","cancel","(",")",")",".","onDspose","(","(",")","-","channel",".","close","(",")",")","&","#","125",";",")",";","Hanle","1","FluxR","hanle","(","BConsumerT",",","SynchronousSnkR",")",";","考虑","一个","例子","，","响应","式流","规范","中","不允许","序列","中","有空","值","，","如果","执行","的","映射","函数","返回","null","怎么办",",","可以","使用","hanler","将","null","值移","除","12345678910111213141516","publc","Strng","alphabet","(","nt","letterNumber",")","&","#","123",";","f","(","letterNumber","1","letterNumber","26",")","&","#","123",";","return","null",";","&","#","125",";","nt","letterInexAsc","&","#","x","3","D",";","&","#","39",";","A","&","#","39",";","+","letterNumber","-","1",";","return","&","quot",";","&","quot",";","+","(","char",")","letterInexAsc",";","&","#","125",";","FluxStrng","alphabet","&","#","x","3","D",";","Flux",".","just","(","-","1",",","30",",","13",",","9",",","20",")",".","hanle","(","(",",","snk",")","-","&","#","123",";","Strng","letter","&","#","x","3","D",";","alphabet","(",")",";","f","(","letter","!","&","#","x","3","D",";","null",")","snk",".","next","(","letter",")",";","&","#","125",";",")",";","alphabet",".","subscrbe","(","System",".","out",":",":","prntln",")",";","Threang","an","Scheulers","触发","指定","线程","，","否则","最","顶层","的","operater","运行","在","调用","subscrbe","(",")","的","线程","中","123456789101112131415161718","&","#","x","2","F",";","*","*","*","The","MonoStrng","s","assemble","n","threa","man",".","*","Howeer",",","t","s","subscrbe","to","n","threa","Threa","-","0",".","*","As","a","consequence",",","both","the","map","an","the","onNext","callback","actually","run","n","Threa","-","0","*","&","#","x","2","F",";","publc","statc","o","man","(","Strng","[","]","args",")","throws","InterrupteExcepton","&","#","123",";","fnal","MonoStrng","mono","&","#","x","3","D",";","Mono",".","just","(","&","quot",";","hello","&","quot",";",")",";","Threa","t","&","#","x","3","D",";","new","Threa","(","(",")","-","mono",".","map","(","msg","-","msg","+","&","quot",";","threa","&","quot",";",")",".","subscrbe","(","-","System",".","out",".","prntln","(","+","Threa",".","currentThrea","(",")",".","getName","(",")",")",")",")","t",".","start","(",")",";","t",".","jon","(",")",";","&","#","125",";","output","1","hello","threa","Threa","-","0","Scheulers","1","、","Scheulers",".","mmeate","(",")","没有","执行","上下文","，","在","处理","时","，","直接","执行","提交","的","runnable","，","在","当前","线程","中","执行","2","、","Scheulers",".","sngle","(",")","单个","可","重用","线程","，","此","方法","对","每个","调用","者","都","使用","相同","的","线程","，","直到","scheuler","被","释放","，","如果","需要","一个","每次","调用","都是","一个","专用","的","线程","，","可以","使用","Scheuler",".","newSngle","(",")","3","、","Scheulers",".","elastc","(",")","无限制","的","弹性","线程","池","4","、","Scheulers",".","bouneElastc","(",")","有","界","的","弹性","线程","池","。","阻塞","式","IO","可以","选择","这个","，","默认","创建","cup","核","数","*","10","线程","数","，","默认","闲置","时间","为","60","s","5","、","Scheulers",".","parallel","(",")","用于","并行","工作","的","固定","数量","的","工作","线程","，","创建","和","cpu","核","数一样","多","的","线程","6","、","Scheulers",".","fromExecutorSerce","(","ExecutorSerce",")","从","executorSerce","中","创建","7","、","Scheulers",".","newParallel","(","yourScheuleName",")","创建","时","指定","名称","publshOn","12345678910111213141516","&","#","x","2","F",";","*","*","*","Creates","a","new","Scheuler","backe","by","four","Threa","nstances",".","*","The","frst","map","runs","on","the","anonymous","threa","n","5",".","*","The","publshOn","swtches","the","whole","sequence","on","a","Threa","pcke","from","1",".","*","The","secon","map","runs","on","the","Threa","from","1",".","*","Ths","anonymous","Threa","s","the","one","where","the","subscrpton","happens",".","The","prnt","*","happens","on","the","latest","executon","context",",","whch","s","the","one","from","publshOn",".","*","&","#","x","2","F",";","Scheuler","s","&","#","x","3","D",";","Scheulers",".","newParallel","(","&","quot",";","parallel","-","scheuler","&","quot",";",",","4",")",";","&","#","x","2","F",";","&","#","x","2","F",";","1","fnal","FluxStrng","flux","&","#","x","3","D",";","Flux",".","range","(","1",",","2",")",".","map","(","-","10","+",")","&","#","x","2","F",";","&","#","x","2","F",";","2",".","publshOn","(","s",")","&","#","x","2","F",";","&","#","x","2","F",";","3",".","map","(","-","&","quot",";","alue","&","quot",";","+",")",";","&","#","x","2","F",";","&","#","x","2","F",";","4","new","Threa","(","(",")","-","flux",".","subscrbe","(","System",".","out",":",":","prntln",")",")",";","&","#","x","2","F",";","&","#","x","2","F",";","5","subscrbeOn","12345678910111213141516","&","#","x","2","F",";","*","*","Creates","a","new","Scheuler","backe","by","four","Threa",".","The","frst","map","runs","on","one","of","these","four","threas","…","​",".",".",".","because","subscrbeOn","swtches","the","whole","sequence","rght","from","subscrpton","tme","(","5",")",".","The","secon","map","also","runs","on","same","threa",".","Ths","anonymous","Threa","s","the","one","where","the","subscrpton","ntally","happens",",","but","subscrbeOn","mmeately","shfts","t","to","one","of","the","four","scheuler","threas",".","*","&","#","x","2","F",";","Scheuler","s","&","#","x","3","D",";","Scheulers",".","newParallel","(","&","quot",";","parallel","-","scheuler","&","quot",";",",","4",")",";","&","#","x","2","F",";","&","#","x","2","F",";","1","fnal","FluxStrng","flux","&","#","x","3","D",";","Flux",".","range","(","1",",","2",")",".","map","(","-","10","+",")","&","#","x","2","F",";","&","#","x","2","F",";","2",".","subscrbeOn","(","s",")","&","#","x","2","F",";","&","#","x","2","F",";","3",".","map","(","-","&","quot",";","alue","&","quot",";","+",")",";","&","#","x","2","F",";","&","#","x","2","F",";","4","new","Threa","(","(",")","-","flux",".","subscrbe","(","System",".","out",":",":","prntln",")",")",";","&","#","x","2","F",";","&","#","x","2","F",";","5"],"url":"http://yoursite.com/2020/04/24/Reactor-%E5%AE%9E%E8%B7%B5/","title":"[Reactor]实践","content":"Flux和Mono创建并订阅123456789101112131415161718192021222324252627282930&#x2F;&#x2F;几种创建的工厂方法Flux&lt;String&gt; flux &#x3D; ...","author":"young","categorie":{},"date":"2020-04-24 18:16:57"},{"word":["garbage","?","什么是","垃圾","how","to","fn","a","garbage","?","怎么","找","垃圾","1",".","reference","count","，","存在","循环","引用","问题","2",".","root","searchng","根","可","达","算法","Gc","算法","垃圾","收集","算法","1",".","mark","-","sweep","产生","内存","碎片","2",".","copyng","内存","一分为二","，","copy","有用","的","到","另一半","空间","效率","高","3",".","mark","-","compact","解决","1","，","2两种","问题","，","效率","低","Garbage","Collectors","运用","了","以上","的","3","中","算法",",","调优","之前","也是","先","要","确定","是","那种","回收","器","，","GC","算法","升级","也是","由于","现在","计算机","的","内存","越来越","多","前面","6","中","都是","配对","使用","，","上","三个","是","年轻","代","使用","，","下","三个","是","老","年代","年代","比较","就","一点","：","Seral","（","年前","代","，","采用","单","线程","复制","的","收集","器","，","会","stw","）","+","Seral","ol","（","老年","代","）","，","随着","计算机技术","的","发展","，","服务器","采用","的","内存","基本上","都是","大","内存","，","内存","大的话","（","几十","M","的","大小","）","相应","的","stw","的","时间","也","会","变","长","Sral",".","png","Seral","Ol",".","png","1.8","默认设置","Ps","+","Po","Parallel","Scaenge","和","Parallel","ol","（","内存","几个","G","的","大小","）","ParNew","+","CMS","(","调优","降低","stp","时间",")","上面","两种","不管","是","单","线程","还是","多线程","，","内存空间","一","大","，","stw","必然","增加","CMS",":","承上启下","的","垃圾","回收","器","，","并发","的","标记","清除","（","内存","碎片","化","，","内存","不","连续","）","，","但是","低","暂停","的","时间","4个","阶段","CMS","问题","浮动","垃圾","，","等待","下","一轮","的","清除","，","由于","cms","采用","标记","清除","，","当","碎片","化","越来越","严重","，","新","对象","的","过来","的","时候","，","就","会","存在","找不到","任何","一个","空间","装","下","，","jm","当","内存","碎片","化","特别","严重的","时候","，","采用","的","是","Seral","Ol","来","清理","整个","内存","（","Full","Gc","）","，","CMS","如果","一旦","产生","卡","段","，","比较","严重","。","G","1","核心","是","Regon","概念","，","不用","分","代","了","分","代","模型","jk","9","之后","推荐","不分","代","模型","年轻","代","中","采用","copy","的","算法","，","new","对象","先","放入","een","区","，","回收","时","，","想","根据","root","searchng","算法","，","将","有用","的","copy","到","s","1","，","将","内存","全部","清理","掉","，","然后","s","1","和","s","2","中","存活","对象","互相","copy","。","（","逃避","一次","回收","对象","中的","age","就","会","增加","1","）","新","对象","分配","TLAB","开启","的","useTlab","这个","参数","的话","，","线程","分配","的","时候","会","在","een","区分","配","一块","内存","。","age","对象","头","的","markwor","中","4位","标记","，","最大","15","stack","上","分配","？","GC","turnng","参数","-","开头","标准","参数","，","各个","版本","都","支持","-","X","非标","参数","，","有可能","将来","被","替换","掉","-","XX","700","多","个","参数",".","png","查看","启动","参数","：","jaa","-","XX",":","+","PrntCommanLneFlags","打印","启动","参数","调优","的","基础","概念","根据","需求","进行","jm","规划","和","预调优","优化","jm","运行","环境","（","慢","，","卡","顿","）","解决","jm","运行","过程","中","出现","的","各种","问题","（","OOM","）","案例","背景","，","数据库","读取","数据","，","套用","模型","，","并","将","结果","进行","记录","和","传输","123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354","mport","jaa",".","math",".","BgDecmal",";","mport","jaa",".","utl",".","ArrayLst",";","mport","jaa",".","utl",".","Date",";","mport","jaa",".","utl",".","Lst",";","mport","jaa",".","utl",".","concurrent",".","ScheuleExecutorSerce",";","mport","jaa",".","utl",".","concurrent",".","ScheuleThreaPoolExecutor",";","mport","jaa",".","utl",".","concurrent",".","TmeUnt",";","publc","class","CarInfo","&","#","123",";","BgDecmal","prce","=","new","BgDecmal","(","0.0",")",";","Strng","name","=","\"","张三","\"",";","nt","age","=","5",";","Date","brthate","=","new","Date","(",")",";","publc","o","m","(",")","&","#","123",";","&","#","125",";","prate","statc","ScheuleThreaPoolExecutor","executor","=","new","ScheuleThreaPoolExecutor","(","50",")",";","publc","statc","o","man","(","Strng","[","]","args",")","throws","Excepton","&","#","123",";","executor",".","setMaxmumPoolSze","(","50",")",";","for","(",";",";",")","&","#","123",";","moelFt","(",")",";","Threa",".","sleep","(","100",")",";","&","#","125",";","&","#","125",";","prate","statc","o","moelFt","(",")","&","#","123",";","LstCarInfo","taskLst","=","getAllCarInfo","(",")",";","taskLst",".","forEach","(","nfo","-","&","#","123",";","o","somethng","executor",".","scheuleWthFxeDelay","(","(",")","-","&","#","123",";","o","sth","wth","nfo","nfo",".","m","(",")",";","&","#","125",";",",","2",",","3",",","TmeUnt",".","SECONDS",")",";","&","#","125",";",")",";","&","#","125",";","prate","statc","LstCarInfo","getAllCarInfo","(",")","&","#","123",";","LstCarInfo","taskLst","=","new","ArrayLst","(",")",";","for","(","nt","=","0",";","100",";","+","+",")","&","#","123",";","CarInfo","c","=","new","CarInfo","(",")",";","taskLst",".","a","(","c",")",";","&","#","125",";","return","taskLst",";","&","#","125",";","&","#","125",";","jm","启动","参数","jaa","-","Xms","30","M","-","Xmx","30","M","-","XX",":","+","PrntGc","xxx",".","class","大小","内存","设置","一样","，","一次","弹缩","，","如果","确定","应用","程序","的","配额","确定","了","，","来回","的","弹缩","浪费","资源","问题","定位","：","top","-","p","p","（","jps","查看","进程","号","）","cpu","不","存","增长","，","GC","的","线程","在","耗","CPU",",","内存","也","在","不断","增长","（","GC","回收","不","掉","）","通过","GC","日志","看到","不停","的","Full","GC","，","每次","回收","很少","内存","（","可能会","产生","oom","）","定位","：","jps","p","jnfo","p","查看","基础","信息","jstack","-","gc","p","1000","1","s","刷新","一次","堆","内存","占用","的","情况","，","经过","前后","的","对比","，","定位","问题","jstack","p","more","打印","出","进程","中","所有","的","线程","，","用于","发现","有没有","死锁","1",".","watng","on","conton","[","ox","00000000","]","多","的话","可能","有","问题","2",".","线程","的","名称","设置","（","参考","阿里","规范","）","，","自","定义","线程","工程","，","定义","有意义","的","线程","名称","，","方便","排查","使用","阿里","的","arthas","排查","cpu","飙","高","排查","jstack","查看","具体","是","业务","线程","还是","gc","的","线程","导致","的","飙","高","oom","问题","排查","jmapjmap","-","hsto","p","hea","-","20","列出","前","20","行类","占用","内存","情况","ump","jmap","两个","命令","是否","可以","在","生产","环境","中","使用","？","一般","是","先","下","负载","使用","只要","使用","jmap","就是","产生","stp","，","可以","先","下","负载","，","不","影响","服务","的","可用性","，","ump","内存","分析"],"url":"http://yoursite.com/2020/04/16/[JVM]GC/","title":"[JVM] GC.md","content":"garbage? 什么是垃圾how to find a garbage? 怎么找垃圾1.reference count ，存在循环引用问题\n2.root searching   根可达算法Gc算法 垃圾收集算法1.mark-sweep...","author":"young","categorie":{"url":"http://yoursite.com/categories/JVM/","name":"JVM"},"date":"2020-04-16 22:21:39"},{"word":["通过","Flux",".","range","方法","创建","一个","flux","，","来看","下","反应式","规范","中","定义","的","几个","角色","以及","相互","交互","三种","角色","（","规范","中","定义","的","是","四种","）","：","Publsher","、","Subscrber","、","Subscrpton","Publsher","：","请求","Publsher","开始","下发","数据","，","可以","被","调用","多次","，","每次","都会","使用","新的","Subscrpton","，","每个","Subscrpton","只","为","一个","Subscrber","服务","，","一个","Subscrber","只能","订阅","一个","Publsher","publc","o","subscrbe","(","Subscrber","?","super","T","s",")",";","Subscrber",":","在","Publsher","#","subscrbe","(","Subscrber",")","调用","之后","被","调用","，","直到","Subscrpton","#","request","(","long",")","被","调用","才","有","元素","流动","，","Publsher","才","会","下发","元素","，","其实","也是","通过","Subscrpton","这个","中间","者","来","通过","request","方法","来","下发","元素","，","调用","Subscrber","的","onNext","方法","下发","publc","o","onSubscrbe","(","Subscrpton","s",")",";","通过","Subscrpton","#","request","(","long",")","时候","调用","来","获取","元素","通知","publc","o","onNext","(","T","t",")",";","当下","发","流程","中","出现","错误","一种","失败","终止","状态","，","即使","是","再次","调用","Subscrpton","#","request","(","long",")","也不","会","触发","任何","事件","publc","o","onError","(","Throwable","t",")",";","成功","状态","即使","是","再次","调用","Subscrpton","#","request","(","long",")","也不","会","触发","任何","事件","publc","o","onComplete","(",")",";","Subscrpton","：","Publsher","不会","发送","任何","的","事件","直到","整个","方法","被","调用","如果","流","结束","，","发布者","可以","发送","的","请求","少于","发送","的","请求","，","但是","随后","必须","调用","订阅","者","的","onError","或者","onComplete","publc","o","request","(","long","n",")",";","Publsher","停止","发送","和","清理","资源","的","时候","被","调用","，","仍然","可以","发送","数","据以","满足","先前","发出","的","信号","需求","publc","o","cancel","(",")",";","测试","emo","12345678910111213141516171819202122","publc","class","BaseSubscrberTest","&","#","123",";","@","Test","publc","o","testRole","(",")","&","#","123",";","SampleSubscrbe","ss","=","new","SampleSubscrbe","(",")",";","FluxInteger","range","=","Flux",".","range","(","1",",","6",")",";","range",".","subscrbe","(","ss",")",";","&","#","125",";","class","SampleSubscrbeT","extens","BaseSubscrberT","&","#","123",";","@","Oerre","publc","o","hookOnSubscrbe","(","Subscrpton","subscrpton",")","&","#","123",";","System",".","out",".","prntln","(","\"","Subscrbe","\"",")",";","request","(","1",")",";","&","#","125",";","@","Oerre","publc","o","hookOnNext","(","T","alue",")","&","#","123",";","System",".","out",".","prntln","(","\"","alue","：","\"","+","alue",")",";","request","(","1",")",";","&","#","125",";","&","#","125",";","&","#","125",";","1234567","Subscrbealue","：","1","alue","：","2","alue","：","3","alue","：","4","alue","：","5","alue","：","6","首先","声明","一个","Subscrber","，","继承","BaseSubscrber","，","覆盖","hookOnSubscrbe","，","hookOnNext","方法","BaseSubscrber","类","继承","Subscrpton","1","publc","abstract","class","BaseSubscrberT","mplements","CoreSubscrberT",",","Subscrpton",",","Dsposable","当","Subscrber","的","onSubscrbe","被","调用","的","时候","，","调用","request","(","1",")","请求","一个","元素","当","Subscrber","的","onNext","被","调用","的","时候","，","在","调用","一次","request","(","1",")","请求","一个","元素","通过","Fulx","的","静态","方法","创建","一个","Flux","，","通过","其","subscrbe","方","法","将","Publsher","和","订阅","者","绑定","Flux","创建","过程","Flux",".","range","(","1",",","6",")","实现","：","1234567891011121314151617181920212223242526272829303132333435363738394041","publc","statc","FluxInteger","range","(","nt","start",",","nt","count",")","&","#","123",";","f","(","count","=","=","1",")","&","#","123",";","return","just","(","start",")",";","&","#","125",";","f","(","count","=","=","0",")","&","#","123",";","return","empty","(",")",";","&","#","125",";","return","onAssembly","(","new","FluxRange","(","start",",","count",")",")",";","&","#","125",";","FluxRanges","实现","想","range","参数","保存","到","内部","的","start","和","en","FluxRange","(","nt","start",",","nt","count",")","&","#","123",";","f","(","count","0",")","&","#","123",";","throw","new","IllegalArgumentExcepton","(","\"","count","=","requre","but","t","was","\"","+","count",")",";","&","#","125",";","long","e","=","(","long",")","start","+","count",";","f","(","e","-","1","Integer",".","MAX","_","VALUE",")","&","#","123",";","throw","new","IllegalArgumentExcepton","(","\"","start","+","count","must","be","less","than","Integer",".","MAX","_","VALUE","+","1","\"",")",";","&","#","125",";","ths",".","start","=","start",";","ths",".","en","=","e",";","&","#","125",";","本","例","返回","的","是","FluxRangeFlux",".","onAssembly","(",")","对","flux","包装","，","protecte","statc","T","FluxT","onAssembly","(","FluxT","source",")","&","#","123",";","Hooks","FunctonPublsher",",","Publsher","hook","=","Hooks",".","onEachOperatorHook",";","f","(","hook","!","=","null",")","&","#","123",";","source","=","(","FluxT",")","hook",".","apply","(","source",")",";","&","#","125",";","f","(","Hooks",".","GLOBAL","_","TRACE",")","&","#","123",";","AssemblySnapshot","stacktrace","=","new","AssemblySnapshot","(","null",",","Traces",".","callSteSupplerFactory",".","get","(",")",")",";","source","=","(","FluxT",")","Hooks",".","aAssemblyInfo","(","source",",","stacktrace",")",";","&","#","125",";","return","source",";","&","#","125",";","Subscrbe","订阅","range",".","subscrbe","(","ss",")",";","测试","emo","中","得到","的","是","一个","FluxRange","，","subscrbe","方法","实现","123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128","@","Oerre","@","SuppressWarnngs","(","\"","unchecke","\"",")","publc","o","subscrbe","(","CoreSubscrber","?","super","Integer","actual",")","&","#","123",";","long","st","=","start",";","long","en","=","en",";","如果","st","和","en","想到","，","直接","调用","subscrber","的","onComplete","(",")","f","(","st","=","=","en",")","&","#","123",";","Operators",".","complete","(","actual",")",";","return",";","&","#","125",";","else","f","(","st","+","1","=","=","en",")","&","#","123",";","actual",".","onSubscrbe","(","Operators",".","scalarSubscrpton","(","actual",",","(","nt",")","st",")",")",";","return",";","&","#","125",";","f","(","actual","nstanceof","ContonalSubscrber",")","&","#","123",";","actual",".","onSubscrbe","(","new","RangeSubscrptonContonal","(","(","ContonalSubscrber","?","super","Integer",")","actual",",","st",",","en",")",")",";","return",";","&","#","125",";","调用","subscrber","的","onSubscrbe","方法","，","实例","化","一个","RangeSubscrpton","Subscrber","和","Subscrpton","绑定","actual",".","onSubscrbe","(","new","RangeSubscrpton","(","actual",",","st",",","en",")",")",";","&","#","125",";","由于","我们","的","订阅","者","是","一个","BaseSubscrber",",","其","onSubscre","实现","：","@","Oerre","publc","fnal","o","onSubscrbe","(","Subscrpton","s",")","&","#","123",";","f","(","Operators",".","setOnce","(","S",",","ths",",","s",")",")","&","#","123",";","try","&","#","123",";","调用","hookOnSubscrbe",",","会","调用","到","SampleSubscrbe","的","hookOnSubscrbe","方法","也","即","是","BaseSubscrber","的","request","方法","然后","执行","request","方法","，","请求","下发","一个","元素","hookOnSubscrbe","(","s",")",";","&","#","125",";","catch","(","Throwable","throwable",")","&","#","123",";","onError","(","Operators",".","onOperatorError","(","s",",","throwable",",","currentContext","(",")",")",")",";","&","#","125",";","&","#","125",";","&","#","125",";","BaseSubscrber","的","request","方法","实现","@","Oerre","publc","fnal","o","request","(","long","n",")","&","#","123",";","f","(","Operators",".","alate","(","n",")",")","&","#","123",";","Subscrpton","s","=","ths",".","subscrpton",";","f","(","s","!","=","null",")","&","#","123",";","调用","subscrpton","的","requst","方法",",","调用","到","RangeSubscrpton","(","FluxRange","的","内","部类",")","的","request","方法","s",".","request","(","n",")",";","&","#","125",";","&","#","125",";","&","#","125",";","FluxRange","#","RangeSubscrpton","#","request","(",")","@","Oerre","publc","o","request","(","long","n",")","&","#","123",";","f","(","Operators",".","alate","(","n",")",")","&","#","123",";","f","(","Operators",".","aCap","(","REQUESTED",",","ths",",","n",")","=","=","0",")","&","#","123",";","f","(","n","=","=","Long",".","MAX","_","VALUE",")","&","#","123",";","fastPath","(",")",";","&","#","125",";","else","&","#","123",";","slowPath","(","n",")",";","&","#","125",";","&","#","125",";","&","#","125",";","&","#","125",";","o","slowPath","(","long","n",")","&","#","123",";","fnal","Subscrber","?","super","Integer","a","=","actual",";","long","f","=","en",";","long","e","=","0",";","long","=","nex",";","for","(",";",";",")","&","#","123",";","f","(","cancelle",")","&","#","123",";","return",";","&","#","125",";","whle","(","e","!","=","n","&","amp",";","&","amp",";","!","=","f",")","&","#","123",";","调用","subscrber","的","onNext","方法","a",".","onNext","(","(","nt",")",")",";","f","(","cancelle",")","&","#","123",";","return",";","&","#","125",";","e","+","+",";","+","+",";","&","#","125",";","f","(","cancelle",")","&","#","123",";","return",";","&","#","125",";","f","(","=","=","f",")","&","#","123",";","调用","subscrber","的","onComplete","方法","a",".","onComplete","(",")",";","return",";","&","#","125",";","n","=","requeste",";","f","(","n","=","=","e",")","&","#","123",";","nex","=",";","n","=","REQUESTED",".","aAnGet","(","ths",",","-","e",")",";","f","(","n","=","=","0",")","&","#","123",";","return",";","&","#","125",";","e","=","0",";","&","#","125",";","&","#","125",";","BaseSubscrber","#","onNext","(","T","alue",")","@","Oerre","publc","fnal","o","onNext","(","T","alue",")","&","#","123",";","Objects",".","requreNonNull","(","alue",",","\"","onNext","\"",")",";","try","&","#","123",";","调用","SampleSubscrbe","#","hookOnNext","(",")","hookOnNext","(","alue",")",";","&","#","125",";","catch","(","Throwable","throwable",")","&","#","123",";","onError","(","Operators",".","onOperatorError","(","subscrpton",",","throwable",",","alue",",","currentContext","(",")",")",")",";","&","#","125",";","&","#","125",";"],"url":"http://yoursite.com/2020/04/15/[Reactor]Flux-demo/","title":"[Reactor] 反应式Flux demo","content":"通过Flux.range方法创建一个flux，来看下反应式规范中定义的几个角色以及相互交互三种角色（规范中定义的是四种）：Publisher、Subscriber、Subscription\nPublisher：\n请求Publisher...","author":"young","categorie":{},"date":"2020-04-15 17:29:12"},{"word":["3",".","反应式","编程","简介","Reactor","是","Reacte","Programmng","范式","的","实现","，","可以","总结","如下",":","反应式","编程","是","一种","异步","编程","范式","，","它","涉及","数据流","和","变化","的","传播","。","这","意味着","可以","通过","采用","的","编程","语言","轻松地","表达","静态","（","例如","数组","）","或","动态","（","例如","事件","发射器","）","数据流","。","More","nfo",":","[","wkpea","]","(","https",":","en",".","wkpea",".","orgwkReacte","_","programmng",")","作为","响应","式","编程","方","向上","的","第一步","，","Mcrosoft","在",".","NET","生态系统","中","创建","了","响应","式","扩展","（","Rx","）","库","。","然后","RxJaa","在","JVM","上","实现","了","反应式","编程","。","随着","时间","的","流逝","，","通过","Reacte","Streams","的","努力","出现","了","Jaa","的","规范","，","该","规范","定义","了","JVM","上","的","响应","库","的","一组","接口","和","交互","规则","。","它","的","接口","已","在","Flow","类","下集","成","到","Jaa","9","中","。","反应式","编程","范例","通常","以","面向","对象","的","语言","表示","，","作为","Obserer","设计","模式","的","扩展","。","您","还","可以","将","主要","的","反应","流","模式","与","熟悉的","Iterator","设计","模式","进行","比较","，","因为","所有","这些","库","中的","Iterable","-","Iterator","对","都","有","双重性","。","一个","主要","的","区别","是","，","虽然","Iterator","是","基于","pull","的","，","但是","反应","流","却","是","基于","push","的","。","使用","迭","代","器","是","命令","式","编程","模式","，","即使","访问","值","的","方法","仅","由","Iterable","负责","。","确实","，","开发人员","可以","选择","何时","访问","序列","中的","next","（","）","项","。","在","反应式","流","中","，","上述","对","等效","于","Publsher","-","Subscrber","。","但是","是","发布者","在","新","可用","值","出","现时","通知","订阅","者","，","而","此","推送","方面","是","做出","反应","的","关键","。","同样","，","应用于","推入","值","的","操作","以","声明","方式","而不是","命令","方式","表示","：","程序","员","表示","计算","的","逻辑","，","而不是","描述","其","确切的","控制","流程","。","除了","推送","值","之外","，","还","以","明确","定义","的","方式","涵盖","了","错误","处理","和","完成","方面","。","发布者","可以","将","新","值","推","送到","其","订阅","者","（","通过","调用","onNext","）","，","但","也","可以","发出","错误","信号","（","通过","调用","onError","）","或","完成","（","通过","调用","onComplete","）","。","错误","和","完成","都会","终止","序列","。","可以","总结","如下","：","1","onNext","x","0",".",".","N","[","onError","onComplete","]","这种方法","非常","灵活","。","该","模式","支持","没有","值","，","一个","值","或","n","个","值","（","包括","无限","个","值","序列","，","例如","时钟","的","连续","滴答声","）","的","用例","。","但是","为什么","我们","首先","需要","这样","的","异步","反应式","库","？","Blockng","Can","Be","Wasteful","现代","应用程序","可以","吸引","大量","的","并发","用户","，","即使","现代","硬件","的","功能","不断提高","，","现代","软件","的","性能","仍然","是","关键","问题","。","广义","上","讲","，","有","两种","方法","可以","提高","程序","的","性能","：","1",".","并行","使用","更多","线程","和","更多","硬件","资源","2",".","在","使用","现有","资源","方面","寻求","更高","的","效率","通常","，","Jaa","开发人员","通过","使用","阻塞","代码","来","编写","程序","。","除非","存在","性能","瓶颈","，","否则","这种","做法","很好","。","然后","是","时候","引入","其他","线程","，","运行","类似的","阻塞","代码","了","。","但是","这种","资源","利用","的","扩展","会","迅速","引入","竞争","和","并发","问题","。","更","糟糕的","是","，","阻塞","会","浪费","资源","。","如果","仔细","观察","，","程序","一旦","遇到","一些","延迟","（","特别是","IO","，","例如","数据库","请求","或","网络","调用","）","，","就","会","浪费","资源","，","因为","线程","（","可能","有","很多","线程","）","现在","处于","空闲","状态","，","等待","数据","。","因此","，","并行","化","方法","不是","灵丹妙药","。","有必要","访问","硬件","的","全部","功能","，","但是","推理","和","资源","浪费","也","很","复杂","。","Asynchroncty","to","the","Rescue","?","前面","提到","的","第","二种","方法","，","寻求","更高","的","效率","，","可以","解决","资源","浪费","的","问题","。","通过","编写","异步","的","非","阻塞","代码","，","您","可以","将","执行","切换","到","使用","相同","基础","资源","的","另一个","活动","任务","，","并","在","异步","处理","完成","后","返回","到","当前","进程","。","但是","如","何在","JVM","上","生成","异步","代码","？","Jaa","提供","了","两种","异步","编程","模型","：","*","Callbacks","：","异步","方法","没有","返回","值","，","但是","带有","一个","额外","的","回调","参数","（","lamba","或","匿名","类","）","，","该","参数","在","结果","可","用时","被","调用","。","一个","著名的","例子","是","Swng","的","EentLstener","层次","结构","。","*","Futures","：","异步","方法","立即","返回","Future","。","异步","过程","计算","T","值","，","但是","Future","对象","包装","对","其","的","访问","。","该","值","不是","立即","可用","的","，","并且","可以","轮询","该","对象","，","直到","该","值","可用","为止","。","例如","，","运行","Callable","任务","的","ExecutorSerce","使用","Future","对象","。","这些","技术","够","好吗","？","并非","针对","每个","用例","，","这","两种","方法","都","有","局限性","。","回调","很难","组合","在一起","，","迅速","导致","难以","阅读","和","维护","的","代码","（","称为","“","回调","地狱","”","）","。","考虑","一个","示例","：","在","用户界面","上","显示","用户","的","前","五个","收藏夹","，","如果","没有","收藏夹","则","显示","建议","。","这","需要","三","项","服务","（","一项","提供","喜欢的","ID","，","第二","项","获取","喜欢的","详细","信息","，","第三","项","提供","带有","详细","信息","的","建议","）","，","如下","所","示","：","例子","5",".","回调","地狱","的","例子","1234567891011121314151617181920212223242526272829303132333435","userSerce",".","getFaortes","(","userI",",","new","CallbackLstStrng","(",")","&","#","123",";","1","publc","o","onSuccess","(","LstStrng","lst",")","&","#","123",";","2","f","(","lst",".","sEmpty","(",")",")","&","#","123",";","3","suggestonSerce",".","getSuggestons","(","new","CallbackLstFaorte","(",")","&","#","123",";","publc","o","onSuccess","(","LstFaorte","lst",")","&","#","123",";","4","UUtls",".","submtOnUThrea","(","(",")","-","&","#","123",";","5","lst",".","stream","(",")",".","lmt","(","5",")",".","forEach","(","uLst",":",":","show",")",";","6","&","#","125",";",")",";","&","#","125",";","publc","o","onError","(","Throwable","error",")","&","#","123",";","7","UUtls",".","errorPopup","(","error",")",";","&","#","125",";","&","#","125",";",")",";","&","#","125",";","else","&","#","123",";","lst",".","stream","(",")","8",".","lmt","(","5",")",".","forEach","(","faI","-","faorteSerce",".","getDetals","(","faI",",","9","new","CallbackFaorte","(",")","&","#","123",";","publc","o","onSuccess","(","Faorte","etals",")","&","#","123",";","UUtls",".","submtOnUThrea","(","(",")","-","uLst",".","show","(","etals",")",")",";","&","#","125",";","publc","o","onError","(","Throwable","error",")","&","#","123",";","UUtls",".","errorPopup","(","error",")",";","&","#","125",";","&","#","125",";",")",")",";","&","#","125",";","&","#","125",";","publc","o","onError","(","Throwable","error",")","&","#","123",";","UUtls",".","errorPopup","(","error",")",";","&","#","125",";","&","#","125",";",")",";","1",".","我们","有","基于","回调","的","服务","：","一种","回调","接口","，","其","中的","一种","方法","在","异步","过程","成功","时","被","调用","，","而","在","发生","错误","时","被","调用","。","2.第一个","服务","使用","收藏夹","ID","列表","调用","其","回调","。","3",".","如果","该","列表","为","空","，","则","必须","转到","RecommenatononSerce","。","4",".","RecommenatononSerce","将","Lst","Faorte","提供给","第二个","回调","。","5",".","由于","我们","处理","的","是","UI","，","因此","我们","需要","确保","使用","的","代码","在","UI","线程","中","运行","。","6",".","我们","使用","Jaa","8","Stream","将","处理","的","建议","数","限制","为","五个","，","并","在","UI","的","图形","列表","中","显示","它们","。","7",".","在","每个","级别","，","我们","以","相同","的","方式","处理","错误","：","在","弹出","窗口","中","显示","它们","。","8",".","返回","收藏夹","ID","级别","。","如果","该","服务","返回","了","完整","列表","，","则","需要","转到","faorteSerce","获取","详细的","Faorte","对象","。","由于","我们","只","需要","五个","，","因此","我们","首先","传输","ID","列表","以","将","其","限制","为","五个","。","9.再一次","，","回调","。","这次","，","我们","得到","了","一个","完整的","“","收藏夹","”","对象","，","该","对象","被","推","送到","UI","线程","中的","UI","。","那是","很多","代码","，","很难","遵循","并且","包含","重复","的","部分","。","考虑","它","在","Reactor","中的","等效","功能",":","示例","6",".","与","回调","代码","等效","的","Reactor","代码","示例",":","123456","userSerce",".","getFaortes","(","userI",")","1",".","flatMap","(","faorteSerce",":",":","getDetals",")","2",".","swtchIfEmpty","(","suggestonSerce",".","getSuggestons","(",")",")","3",".","take","(","5",")","4",".","publshOn","(","UUtls",".","uThreaScheuler","(",")",")","5",".","subscrbe","(","uLst",":",":","show",",","UUtls",":",":","errorPopup",")",";","6","1",".","我们","从","收藏夹","ID","的","流","开始","。","2",".","我们","将","它们","异步","转换","为","详细的","收藏夹","对象","（","flatMap","）","。","现在","，","我们","有","一个","收藏夹","流","。","3",".","如果","“","收藏夹","”","的","流","为","空","，","则","可以","通过","RecommenatononSerce","切换","到","后备","。","4",".","我们","最多","只","对","结果","流","中的","五个","元素","感兴趣","。","5",".","最后","，","我们","要","处理","UI","线程","中的","每个","数据","。","6",".","我们","通过","描述","如何","处理","数据","的","最终","形式","（","在","UI","列表","中","显示","）","以及","发生","错误","的","情况","(","显示","弹出","窗口",")","来","触发","流程","。","如果","要","确保","在","少于","800毫秒","的","时间内","检索","喜欢的","ID","，","或者","如果","花费","更长","的","时间","从","缓存","中","获取","它们","，","该","怎么办","？","在","基于","回调","的","代码","中","，","这是","一项","复杂的","任务","。","在","Reactor","中","，","就","像","在","链","中","添加","超时","操作","符","一样","容易","，","如下","所","示","：","例子","7",".","具有","超时","和","回","退","的","Reactor","代码","的","例子","12345678","userSerce",".","getFaortes","(","userI",")",".","tmeout","(","Duraton",".","ofMlls","(","800",")",")","1",".","onErrorResume","(","cacheSerce",".","cacheFaortesFor","(","userI",")",")","2",".","flatMap","(","faorteSerce",":",":","getDetals",")","3",".","swtchIfEmpty","(","suggestonSerce",".","getSuggestons","(",")",")",".","take","(","5",")",".","publshOn","(","UUtls",".","uThreaScheuler","(",")",")",".","subscrbe","(","uLst",":",":","show",",","UUtls",":",":","errorPopup",")",";","1",".","如果","以上","部分","的","发射","时间","超过","800","ms","，","则","传播","错误","2",".","如果","发生","错误","，","请","退回","到","cacheSerce","。","3",".","链","的","其余","部分","与","前面","的","示例","相似","。","Future","比","回调","要好","一些","，","但是","尽管","CompletableFuture","对","Jaa","8","进行","了","改进","，","但","它们","在","组合","方面","仍然","表现","不佳","。","一起","编排","多","个","Future","对象","是","可行","的","，","但","并","不容易","。","另外","，","未来","还有","其他","问题","：","1",".","通过","调用","get","（","）","方法","很容易","以","Future","对象","结束","另一个","阻塞","情况","。","2",".","它们","不支持","惰性","计算","。","3",".","他们","缺乏","对","多","个","值","和","高级","错误","处理","的","支持","。","再看","一个","例子","：","我们","得到","一个","ID","列表","，","我们","要","从中","获取","一个","名称","和","一个","统计","信息","，","并","将","它们","成对","组合","，","所有","这些","信息","都是","异步","的","。","下面","的","示例","使用","CompletableFuture","类型","的","列表","来","执行","此","操作","Example","8",".","Example","of","CompletableFuture","combnaton","1234567891011121314151617181920212223242526","CompletableFutureLstStrng","s","=","fhIs","(",")",";","1","CompletableFutureLstStrng","result","=","s",".","thenComposeAsync","(","l","-","&","#","123",";","2","StreamCompletableFutureStrng","zp","=","3","l",".","stream","(",")",".","map","(","-","&","#","123",";","CompletableFutureS","trng","n","ameTask","=","fhName","(",")",";","4","CompletableFutureInteger","statTask","=","fhStat","(",")",";","5","return","nameTask",".","thenCombneAsync","(","statTask",",","(","name",",","stat",")","-","\"","Name","\"","+","name","+","\"","has","stats","\"","+","stat",")",";","6","&","#","125",";",")",";","LstCompletableFutureStrng","combnatonLst","=","zp",".","collect","(","Collectors",".","toLst","(",")",")",";","7","CompletableFutureStrng","[","]","combnatonArray","=","combnatonLst",".","toArray","(","new","CompletableFuture","[","combnatonLst",".","sze","(",")","]",")",";","CompletableFutureVo","allDone","=","CompletableFuture",".","allOf","(","combnatonArray",")",";","8","return","allDone",".","thenApply","(","-","combnatonLst",".","stream","(",")",".","map","(","CompletableFuture",":",":","jon",")","9",".","collect","(","Collectors",".","toLst","(",")",")",")",";","&","#","125",";",")",";","LstStrng","results","=","result",".","jon","(",")",";","10","assertThat","(","results",")",".","contans","(","\"","Name","NameJoe","has","stats","103","\"",",","\"","Name","NameBart","has","stats","104","\"",",","\"","Name","NameHenry","has","stats","105","\"",",","\"","Name","NameNcole","has","stats","106","\"",",","\"","Name","NameABSLAJNFOAJNFOANFANSF","has","stats","121","\"",")",";","1",".","我们","从","一个","可以","为","我们","提供","ID","值","列","表","的","future","开始","。","2",".","一旦","获得","列表","，","我们","想开","始","更深","层次","的","异步","处理","。","3",".","对于","列表","中的","每个","元素","：","4",".","异步","获取","关联","名称","。","5",".","异步","获取","关联","的","任务","。","6",".","合并","两个","结果","。","7",".","现在","，","我们","有了","代表","所有","组合","任务","的","期货","清单","。","要","执行","这些","任务","，","我们","需要","将","列表","转换","为","数组","。","8",".","将","数组","传递","给","CompletableFuture",".","allOf","，","该","数组","将","输出","一个","Future","，","当","所有","任务","完成","时","，","该","Future","将","完成","。","9",".","棘手的","一点","是","allOf","返回","CompletableFuture","Vo","，","因此","我们","在","future","列表","上","重申","，","使用","jon","（","）","收集","其","结果","（","此","处","不会","阻塞","，","因为","allOf","确保","future","全","部","完成","了","）","。","10",".","一旦","整个","异步","管道","被","触发","，","我们","等待","它","被","处理","并","返回","可以","声明","的","结果","列表","。","由于","Reactor","提供","了","更多","组合","运算","符","，","因此","可以","简化","此","过程","，","如下","所","示","：","例","9",".","与","以后","的","代码","等效","的","Reactor","代码","的","示例","123456789101112131415161718192021","FluxStrng","s","=","fhrIs","(",")",";","1","FluxStrng","combnatons","=","s",".","flatMap","(","-","&","#","123",";","2","MonoStrng","nameTask","=","fhrName","(",")",";","3","MonoInteger","statTask","=","fhrStat","(",")",";","4","return","nameTask",".","zpWth","(","statTask",",","5","(","name",",","stat",")","-","\"","Name","\"","+","name","+","\"","has","stats","\"","+","stat",")",";","&","#","125",";",")",";","MonoLstStrng","result","=","combnatons",".","collectLst","(",")",";","6","LstStrng","results","=","result",".","block","(",")",";","7","assertThat","(","results",")",".","contansExactly","(","8","\"","Name","NameJoe","has","stats","103","\"",",","\"","Name","NameBart","has","stats","104","\"",",","\"","Name","NameHenry","has","stats","105","\"",",","\"","Name","NameNcole","has","stats","106","\"",",","\"","Name","NameABSLAJNFOAJNFOANFANSF","has","stats","121","\"",")",";","1",".","这次","，","我们","从","异步","提供","的","ID","序列","（","Flux","Strng","）","开始","。","2",".","对于","序列","中的","每个","元素","，","我们","都会","异步","处理","它","两次","（","在","函数","flatMap","调用","内部","）","。","3",".","获取","关联","的","名称","。","4",".","获取","相关","的","统计","信息","。","5",".","异步","组合","两个","值","。","6",".","在","值","可","用时","将","其","汇总","到","一个","列表","中","。","7",".","在","生产","中","，","我们","将","通过","进一步","组合","或","订阅","它","来","继续","异步","使用","Flux","。","最","有可能","的","是","，","我们","将","返回","结果","Mono","。","由于","我们","正在","测试","中","，","因此","我们","改为","阻塞","，","等待","处理","完成","，","然后","直接","返回","汇总","的","值","列表","。","8",".","断言","结果","。","使用","回调","和","Future","对象","的","风险","是","相似的","，","这是","发布者","对","订阅","者","对","响应","式","编程","的","解决","。","From","Imperate","to","Reacte","Programmng","(","从命","令","式","编程","到","反应式","编程",")","反应","性库","（","例如","Reactor","）","旨在","解决","JVM","上","“","经典","”","异步","方法","的","这些","缺点","，","同时","还","着","重于","其他","一些","方面","：","1",".","可","组合","性","和","可读性","2",".","以","丰富的","运算","符","词汇","操纵","数据流","3",".","订阅","之前","没有","任何","反应","4",".","背","压","或","消费者","向","生产者","发出","排放","速率","过","高","信号","的","能力","5",".","Hgh","leel","but","hgh","alue","abstracton","that","s","concurrency","-","agnostc","(","并发","不可知","的","高级","但","高","价值","的","抽象",")","Composablty","an","Reaablty","(","可","组合","性","和","可读性",")","所谓","“","可","组合","性","”","，","是","指","协调","多","个","异步","任务","的","能力","，","其中","我们","使用","先前","任务","的","结果","将","输入","反馈","给","后续","任务","。","另外","，","我们","可以","以","fork","-","jon","样式","运行","多","个","任务","。","此外","，","我们","可以","将","异步","任务","重用","为","更高","级别","系统","中的","离散","组件","。","编排","任务","的","能力","与","代码","的","可读性","和","可维护性","紧密","相关","。","随着","异步","处理","层","的","数量","和","复杂性","的","增加","，","能够","编写","和","读取","代码","变得","越来越","困难","。","如","我们","所","见","，","回调","模型","很","简单","，","但是","它","的","主要","缺点","之一","是","，","对于","复杂的","流程","，","您","需要","从","一个","回调","中","执行","一个","回调","，","该","回调","本身","嵌套","在","另一个","回调","中","，","依此类推","。","这种","混乱","被称为","“","回调","地狱","”","。","您","可以","猜测","（","或","从","经验","中学","到","）","，","很难","找到","这样","的","代码","并","进行","推理","。","Reactor","提供","了","丰富的","组合","选项","，","其中","代码","反映","了","抽象","过程","的","组织","，","并且","通常","将","所有","内容","保持","在","同一","级别","（","将","嵌套","最小化","）","。","The","Assembly","Lne","Analogy","流水线","类比","You","can","thnk","of","ata","processe","by","a","reacte","applcaton","as","mong","through","an","assembly","lne",".","Reactor","s","both","the","coneyor","belt","an","the","workstatons",".","The","raw","materal","pours","from","a","source","(","the","orgnal","Publsher",")","an","ens","up","as","a","fnshe","prouct","reay","to","be","pushe","to","the","consumer","(","or","Subscrber",")",".","您","可以","将","反应式","应用程序","处理","的","数据","视为","流水线","。","Reactor","既是","传送带","又","是","工作站","。","原材料","从","来源","（","原始","发布者","）","倾泻","而","出","，","最终","成为","准备","好","推向","消费者","（","或","订阅","者","）","的","成品","。","The","raw","materal","can","go","through","arous","transformatons","an","other","ntermeary","steps","or","be","part","of","a","larger","assembly","lne","that","aggregates","ntermeate","peces","together",".","If","there","s","a","gltch","or","cloggng","at","one","pont","(","perhaps","boxng","the","proucts","takes","a","sproportonately","long","tme",")",",","the","afflcte","workstaton","can","sgnal","upstream","to","lmt","the","flow","of","raw","materal",".","原材料","可以","经过","各种","转换","和","其他","中间","步骤","，","也","可以","成为","将","中间件","聚集","在一起","的","较大","装配线","的","一部分","。","如果","某一点","出现","故障","或","堵塞","（","也许","装箱","产品","花费","的","时间","过长","）","，","那么","受灾","的","工作站","可以","向","上游","发出","信号","，","以","限制","原材料","的","流动","。","Operators","运算","符","In","Reactor",",","operators","are","the","workstatons","n","our","assembly","analogy",".","Each","operator","as","behaor","to","a","Publsher","an","wraps","the","preous","step","’","s","Publsher","nto","a","new","nstance",".","The","whole","chan","s","thus","lnke",",","such","that","ata","orgnates","from","the","frst","Publsher","an","moes","own","the","chan",",","transforme","by","each","lnk",".","Eentually",",","a","Subscrber","fnshes","the","process",".","Remember","that","nothng","happens","untl","a","Subscrber","subscrbes","to","a","Publsher",",","as","we","see","shortly",".","在","Reactor","中","，","operators","是","我们","装配","类比","中的","工作站","。","每个","operators","都会","向","Publsher","添加","行为","，","并","将","上","一步","的","发布","服务器","包装","到","新","实例","中","。","因此","，","整个","链","被","链接","在一起","，","这样","数据","就","从","第一个","Publsher","发出","并","在","链","中","向下","移动","，","并","由","每个","链接","转换","。","最终","，","订阅","者","完成","了","该","过程","。","请","记住","，","在","订阅","者","订阅","发布者","之前","，","什么","也","不会","发生","，","正如","我们","不久","将","看到","的","那样","。","Unerstanng","that","operators","create","new","nstances","can","help","you","ao","a","common","mstake","that","woul","lea","you","to","belee","that","an","operator","you","use","n","your","chan","s","not","beng","apple",".","See","ths","tem","n","the","FAQ",".","了解","operators","会","创建","新的","实例","可以","帮助","您","避免","一个","常见","错误","，","该","错误","会","导致","您","认为","未","应用","您","在","链","中","使用","的","运算","符","。","请","参阅","常见","问题解答","中的","此","项","。","Whle","the","Reacte","Streams","specfcaton","oes","not","specfy","operators","at","all",",","one","of","the","best","ae","alues","of","reacte","lbrares",",","such","as","Reactor",",","s","the","rch","ocabulary","of","operators","that","they","proe",".","These","coer","a","lot","of","groun",",","from","smple","transformaton","an","flterng","to","complex","orchestraton","an","error","hanlng",".","虽然","反应式","流","规范","根本","没有","指定","运算","符","，","但是","反应式","库","的","最佳","附加值","之一","（","例如","Reactor","）","是","它们","提供","的","运算","符","的","丰富","词汇表","。","从简","单","的","转换","和","过滤","到","复杂的","编排","和","错误","处理","，","这些","内容","涉及","很多","领域","。","Nothng","Happens","Untl","You","subscrbe","(",")","In","Reactor",",","when","you","wrte","a","Publsher","chan",",","ata","oes","not","start","pumpng","nto","t","by","efault",".","Instea",",","you","create","an","abstract","escrpton","of","your","asynchronous","process","(","whch","can","help","wth","reusablty","an","composton",")",".","在","Reactor","中","，","当","您","编写","发布者","链时","，","默认","情况","下","不会","开始","将","数据","泵","入","其中","。","相反","，","您","可以","创建","异步","过程","的","抽象","描述","（","这","有助于","重用","和","组合","）","。","By","the","act","of","subscrbng",",","you","te","the","Publsher","to","a","Subscrber",",","whch","trggers","the","flow","of","ata","n","the","whole","chan",".","Ths","s","achee","nternally","by","a","sngle","request","sgnal","from","the","Subscrber","that","s","propagate","upstream",",","all","the","way","back","to","the","source","Publsher",".","通过","订阅","，","您","将","发布者","与","订阅","者","绑定","在一起","，","从而","触发","了","整个","链","中的","数据流","。","这是","通过","来自","订阅","服务器","的","单个","请求","信号","在内部","实现","的","，","该","请求","信号","向","上游","传播","，","一直","返回","到","源","发布","服务器","。","BackpressurePropagatng","sgnals","upstream","s","also","use","to","mplement","backpressure",",","whch","we","escrbe","n","the","assembly","lne","analogy","as","a","feeback","sgnal","sent","up","the","lne","when","a","workstaton","processes","more","slowly","than","an","upstream","workstaton",".","上游","传播","的","信号","也","用于","实现","背","压","，","我们","在","组装","流水线","中将","其","描述","为","当","工作站","的","处理","速度","比","上游","工作站","慢","时","，","沿","生产线","向上","发送","的","反馈","信号","。","The","real","mechansm","efne","by","the","Reacte","Streams","specfcaton","s","pretty","close","to","the","analogy",":","A","subscrber","can","work","n","unboune","moe","an","let","the","source","push","all","the","ata","at","ts","fastest","acheable","rate","or","t","can","use","the","request","mechansm","to","sgnal","the","source","that","t","s","reay","to","process","at","most","n","elements",".","Reacte","Streams","规范","定义","的","实际","机制","与","类推","非常","接近","：","订户","可以","以","无","界","模式","工作","，","并","让","源","以","最快","可","达到","的","速率","推送","所有","数据","，","或者","可以","使用","请求","机制","向源","发出","信号","，","告知","它","准备","处理","最多","n","个","元素","。","Intermeate","operators","can","also","change","the","request","n","-","transt",".","Imagne","a","buffer","operator","that","groups","elements","n","batches","of","ten",".","If","the","subscrber","requests","one","buffer",",","t","s","acceptable","for","the","source","to","prouce","ten","elements",".","Some","operators","also","mplement","prefetchng","strateges",",","whch","ao","request","(","1",")","roun","-","trps","an","s","benefcal","f","proucng","the","elements","before","they","are","requeste","s","not","too","costly",".","中间","的","operators","还","可以","在","途中","更改","请求","。","想象","一下","一个","缓冲","运算","符","，","它将","元素","以","十个","为","一组","进行","分组","。","如果","subscrber","请求","一个","缓冲区","，","则源","产生","十个","元素","是","可以","接受","的","。","一些","运算","符","还","实现","了","预","取","策略","，","避免","了","request","（","1","）","往返","，","如果","在","请求","之","前生","成","元素","的","成本","不","太","高的话","，","这","将","是","有益的","。","Ths","transforms","the","push","moel","nto","a","push","-","pull","hybr",",","where","the","ownstream","can","pull","n","elements","from","upstream","f","they","are","realy","aalable",".","But","f","the","elements","are","not","reay",",","they","get","pushe","by","the","upstream","wheneer","they","are","prouce",".","这","将","推","模型","转换","为","推","挽","混合","模型","，","如果","容易","获得","，","则","下游","可以","从","上游","拉","取","n","个","元素","。","但是","，","如果","元素","尚未","准备","就绪","，","则","每当","它们","被","生产","时","就","会","被","上游","推送","。","Hot","s","ColThe","Rx","famly","of","reacte","lbrares","stngushes","two","broa","categores","of","reacte","sequences",":","hot","an","col",".","Ths","stncton","manly","has","to","o","wth","how","the","reacte","stream","reacts","to","subscrbers",":","Rx","反应","库","的","家族","将","反应","序列","分为","两","大类","：","热","和","冷","。","这种","区别","主要","与","反应","流","对","订阅","者","的","反应","有关","：","A","Col","sequence","starts","anew","for","each","Subscrber",",","nclung","at","the","source","of","ata",".","For","example",",","f","the","source","wraps","an","HTTP","call",",","a","new","HTTP","request","s","mae","for","each","subscrpton",".","对于","每个","订阅","者","，","包括","在","数据源","处","，","冷","序列","都会","重新","开始","。","例如","，","如果","源","包装","了","一个","HTTP","调用","，","则","会","为","每个","订阅","发出","一个","新的","HTTP","请求","。","A","Hot","sequence","oes","not","start","from","scratch","for","each","Subscrber",".","Rather",",","late","subscrbers","recee","sgnals","emtte","after","they","subscrbe",".","Note",",","howeer",",","that","some","hot","reacte","streams","can","cache","or","replay","the","hstory","of","emssons","totally","or","partally",".","From","a","general","perspecte",",","a","hot","sequence","can","een","emt","when","no","subscrber","s","lstenng","(","an","excepton","to","the","“","nothng","happens","before","you","subscrbe","”","rule",")",".","并非","每个","订阅","者","都","可以","从头","开始","热","序列","。","相反","，","后","订阅","的","订阅","者","会","在","订阅","后","接收","发射","的","信号","。","但是","请","注意","，","某些","热","反应","流","可以","全部","或","部分","缓存","或","重放","排放","历史","。","从","一般的","角度","来看","，","即使","没有","订阅","者","在","收听","，","热","序列","甚至","会","发出","（","“","订阅","之前","什么","也","没有","发生","”","规则","的","例外","）","。","For","more","nformaton","on","hot","s","col","n","the","context","of","Reactor",",","see","ths","reactor","-","specfc","secton",".","4",".","Reactor","Core","FeaturesReactor","项目","的","核心","是","reactor","-","core","，","一个","响应","式","依赖","库","，","符合","Reactor","streams","规范","，","并且","针对","jaa","8","Reactor","引入","了","可","组合的","反应","类型","，","这些","类型","实现","了","Publsher","，","但","也","提供","了","丰富的","operators",":","Flux","和","Mono","。","一个","Flux","对象","代表","一个","0",".",".","的","反应","序列","。","一个","Mono","对象","表示","一个","单值","或","空","(","0",".",".","1",")","结果","。","这种","区别","在","类型","中","包含","了","一些","语义","信息","，","表明","了","异步","处理","的","粗略","基数","。","例如","，","一个","HTTP","请求","仅","产生","一个","响应","，","因此","进行","计数","操作","没有","多大","意义","。","因此","，","将","HTTP","调用","的","结果","表示","为","Mono","比","将","其","表示","为","Flux","更","有","意义","，","因为","它","仅","提供","与","零","项","或","一个","项","的","上下文","相关","的","运算","符","。","更改","处理","的","最大","基数","的","操作","符","也","会","切换","到","相关","类型","。","例如","，","count","操作","符","存","在于","Flux","中","，","但是","它","返回","一个","Mono","。","Flux",",","an","Asynchronous","Sequence","of","0","-","N","ItemsThe","followng","mage","shows","how","a","Flux","transforms","tems",":","Flux","是","标准","的","Publsher","它","表示","0","到","N","个","发射","项目","的","异步","序列","，","可以","选择","由","完成","信号","或","错误","终止","。","就","像","在","Reacte","Streams","规范","中","一样","，","这","三种","信号","转换","为","对","下游","订阅","者","的","onNext","，","onComplete","和","onError","方法","的","调用","。","在","可能","的","信号","范围","如此","之","大的","情况","下","，","Flux","是","通用","的","响应","的","类型","。","请","注意","，","所有","事件","，","甚至","是","终止","事件","，","都是","可选","的","：","没有","onNext","事件","，","但","onComplete","事件","表示","一个","空的","有限","序列","，","但是","删除","onComplete","则","有","一个","无限","的","空","序列","（","除了","取消","测试","外","，","它","没有","什么","用处","）","。","同样","，","无限","序列","不一","定为","空","。","例如","，","Flux",".","nteral","（","Duraton","）","产生","Flux","，","它是","无限","的","并","从","时钟","发出","规则","的","滴答声","。","Mono",",","an","Asynchronous","0","-","1","ResultThe","followng","mage","shows","how","a","Flux","transforms","tems",":","Mono","是","特别","的","Publsher","，","它","最多","发出","一项","，","然后","（","可选","）","以","onComplete","信号","或","onError","信号","终止","。","原文","地址","：","https",":","projectreactor",".","oocscorereleasereferencenex",".","html","#","ntro","-","reacte"],"url":"http://yoursite.com/2020/04/15/[Reactor]%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/","title":"[Reactor] 3文档翻译","content":"3.反应式编程简介Reactor是Reactive Programming范式的实现，可以总结如下:\n反应式编程是一种异步编程范式，它涉及数据流和变化的传播。这意味着可以通过采用的编程语言轻松地表达静态（例如数组）或动态（例如事件发射...","author":"young","categorie":{},"date":"2020-04-15 16:47:07"},{"word":["Welcome","to","Hexo","!","Ths","s","your","ery","frst","post",".","Check","ocumentaton","for","more","nfo",".","If","you","get","any","problems","when","usng","Hexo",",","you","can","fn","the","answer","n","troubleshootng","or","you","can","ask","me","on","GtHub",".","Quck","StartCreate","a","new","post","1","$","hexo","new","\"","My","New","Post","\"","More","nfo",":","Wrtng","Run","serer","1","$","hexo","serer","More","nfo",":","Serer","Generate","statc","fles","1","$","hexo","generate","More","nfo",":","Generatng","Deploy","to","remote","stes","12","$","npx","hexo","clean","$","npx","hexo","eploy","More","nfo",":","Deployment"],"url":"http://yoursite.com/2020/04/15/Hexo%E5%8D%9A%E5%AE%A2%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/","title":"Hex博客快速上手","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using ...","author":"young","categorie":{},"date":"2020-04-15 16:25:42"}]